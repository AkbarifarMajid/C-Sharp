<Window x:Class="LoveDataCustomerFilter.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:LoveDataCustomerFilter.ViewModels"
        Title="Customer Filter - LoveData" Height="600" Width="800">

    <!-- ViewModel as DataContext -->
    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>

    
    <Grid Margin="12">
        <Grid.RowDefinitions>
            <!-- Filter selection -->
            <RowDefinition Height="Auto"/>
            
            <!-- LINQ style selection -->
            <RowDefinition Height="Auto"/>

            <!-- Run button -->
            <RowDefinition Height="Auto"/>

            <!-- Results -->
            <RowDefinition Height="*"/>
           
        </Grid.RowDefinitions>

        
        
        <!-- Filter selection (Enum) -->
        <StackPanel Orientation="Horizontal" Grid.Row="0">
            <TextBlock Text="Filter:" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <ComboBox ItemsSource="{Binding FilterKinds}"
                      SelectedItem="{Binding SelectedFilterKind, Mode=TwoWay}"
                      Width="340"/>
        </StackPanel>

        
        
        <!-- LINQ style selection: two separate RadioButtons -->
        <StackPanel Orientation="Horizontal" Grid.Row="1" Margin="0,8,0,0">
            <TextBlock Text="LINQ style:" VerticalAlignment="Center" Margin="0,0,10,0"/>

            
            <!-- Query Syntax -->
            <RadioButton Content="Query Syntax"
                         GroupName="LinqStyle"
                         IsChecked="{Binding UseQuerySyntax, Mode=TwoWay}"
                         Margin="0,0,12,0"/>

            <!-- Method Syntax -->
            <RadioButton Content="Method Syntax"
                         GroupName="LinqStyle"
                         IsChecked="{Binding UseMethodSyntax, Mode=TwoWay}"/>
        </StackPanel>

        
        
        <!-- Run Filter -->
        <Button Grid.Row="2"
                Content="Apply Filter"
                Width="120"
                Height="32"
                Margin="0,10,0,0"
                Command="{Binding ApplyFilterCommand}"/>

        
        
        <!-- Show results -->
        <DataGrid Grid.Row="3"
                  ItemsSource="{Binding FilteredCustomers}"
                  AutoGenerateColumns="False"
                  Margin="0,10,0,0">

            <!-- Group header for City -->
            <DataGrid.GroupStyle>
                <GroupStyle>
                    <GroupStyle.HeaderTemplate>
                        <DataTemplate>
                            <!-- Name = group name = City value -->
                            <TextBlock Text="{Binding Name}"
                                       FontWeight="Bold"
                                       FontSize="14"
                                       Margin="0,8,0,4"/>
                        </DataTemplate>
                    </GroupStyle.HeaderTemplate>
                </GroupStyle>
            </DataGrid.GroupStyle>

            <DataGrid.Columns>
                <DataGridTextColumn Header="Name"        Binding="{Binding Name}" />
                <DataGridTextColumn Header="Age"         Binding="{Binding Age}" />
                <DataGridTextColumn Header="City"        Binding="{Binding City}" />
                <DataGridTextColumn Header="Category"    Binding="{Binding ProductCategory}" />
                <DataGridTextColumn Header="Order Date"  Binding="{Binding OrderDate, StringFormat=d}" />
                <DataGridTextColumn Header="Order Value (€)" Binding="{Binding OrderValue}" />
            </DataGrid.Columns>
        </DataGrid>

    </Grid>
</Window>
